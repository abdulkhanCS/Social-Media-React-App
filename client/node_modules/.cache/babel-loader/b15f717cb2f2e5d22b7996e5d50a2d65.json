{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import\"../componentStyles/register.css\";import{Link}from\"react-router-dom\";import Axios from\"axios\";var register=/*#__PURE__*/function(_React$Component){_inherits(register,_React$Component);var _super=_createSuper(register);function register(){var _this;_classCallCheck(this,register);_this=_super.call(this);_this.state={firstName:\"\",lastName:\"\",username:\"\",password:\"\",email:\"\",admin:true};_this.onSubmit.bind(_assertThisInitialized(_this));_this.assign.bind(_assertThisInitialized(_this));_this.register.bind(_assertThisInitialized(_this));_this.hashPassword.bind(_assertThisInitialized(_this));_this.getPassword.bind(_assertThisInitialized(_this));return _this;}_createClass(register,[{key:\"assign\",value:function assign(e){console.log(\"change\");if(e.target.name===\"first-name\"){this.setState({firstName:e.target.value});}if(e.target.name===\"last-name\"){this.setState({lastName:e.target.value});}if(e.target.name===\"email\"){this.setState({email:e.target.value});}if(e.target.name===\"username\"){this.setState({username:e.target.value});}if(e.target.name===\"password\"){this.setState({password:e.target.value});}}},{key:\"getPassword\",value:function(){var _getPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(password){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.hashPassword(password).then(function(hash){console.log(\"at getPass it is \",hash);_this2.setState({password:hash});}).catch(function(err){console.log(\"at getPassword\",err);});case 2:case\"end\":return _context.stop();}}},_callee,this);}));function getPassword(_x){return _getPassword.apply(this,arguments);}return getPassword;}()},{key:\"hashPassword\",value:function hashPassword(password){console.log(\"hashing is \",password);var bcrypt=require(\"bcryptjs\");return new Promise(function(resolve,reject){bcrypt.hash(password,10,function(err,hash){if(err)reject(err);console.log(\"at hashPassword\",hash);resolve(hash);});});}},{key:\"onSubmit\",value:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return this.getPassword(this.state.password);case 3:console.log(\"at submit \",this.state.password);this.register();case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function onSubmit(_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()},{key:\"register\",value:function register(){var user={firstName:this.state.firstName,lastName:this.state.lastName,username:this.state.username,password:this.state.password,email:this.state.email,admin:false};console.log(user);Axios.post(\"/user/register\",user).then(function(res){return console.log(res.data);});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{id:\"register-wrap\"},/*#__PURE__*/React.createElement(\"div\",{id:\"join-text\"},\"Join\"),/*#__PURE__*/React.createElement(\"form\",{id:\"register-box\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"first-name\",id:\"first-name\",placeholder:\"First Name\",className:\"user-info\",onChange:this.assign.bind(this)}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"last-name\",id:\"last-name\",placeholder:\"Last Name\",className:\"user-info\",onChange:this.assign.bind(this)}),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",id:\"email\",placeholder:\"Email\",className:\"user-info\",onChange:this.assign.bind(this)}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"username\",id:\"username\",placeholder:\"Username\",className:\"user-info\",onChange:this.assign.bind(this)}),/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",id:\"password\",placeholder:\"Password\",className:\"user-info\",onChange:this.assign.bind(this)}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",id:\"submit-registration\",onClick:this.onSubmit.bind(this)})));}}]);return register;}(React.Component);export{register as default};","map":{"version":3,"sources":["C:/Users/akhan/Documents/social-media-app/client/src/components/register.js"],"names":["React","Link","Axios","register","state","firstName","lastName","username","password","email","admin","onSubmit","bind","assign","hashPassword","getPassword","e","console","log","target","name","setState","value","then","hash","catch","err","bcrypt","require","Promise","resolve","reject","preventDefault","user","post","res","data","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"../componentStyles/register.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\n\r\nexport default class register extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      email: \"\",\r\n      admin: true,\r\n    };\r\n    this.onSubmit.bind(this);\r\n    this.assign.bind(this);\r\n    this.register.bind(this);\r\n    this.hashPassword.bind(this);\r\n    this.getPassword.bind(this);\r\n  }\r\n\r\n  assign(e) {\r\n    console.log(\"change\");\r\n    if (e.target.name === \"first-name\") {\r\n      this.setState({ firstName: e.target.value });\r\n    }\r\n    if (e.target.name === \"last-name\") {\r\n      this.setState({ lastName: e.target.value });\r\n    }\r\n    if (e.target.name === \"email\") {\r\n      this.setState({ email: e.target.value });\r\n    }\r\n    if (e.target.name === \"username\") {\r\n      this.setState({ username: e.target.value });\r\n    }\r\n    if (e.target.name === \"password\") {\r\n      this.setState({ password: e.target.value });\r\n    }\r\n  }\r\n\r\n  async getPassword(password) {\r\n    await this.hashPassword(password)\r\n      .then((hash) => {\r\n        console.log(\"at getPass it is \", hash);\r\n        this.setState({ password: hash });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"at getPassword\", err);\r\n      });\r\n  }\r\n\r\n  hashPassword(password) {\r\n    console.log(\"hashing is \", password);\r\n    const bcrypt = require(\"bcryptjs\");\r\n    return new Promise((resolve, reject) => {\r\n      bcrypt.hash(password, 10, function (err, hash) {\r\n        if (err) reject(err);\r\n        console.log(\"at hashPassword\", hash);\r\n        resolve(hash);\r\n      });\r\n    });\r\n  }\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n    await this.getPassword(this.state.password);\r\n    console.log(\"at submit \", this.state.password);\r\n    this.register();\r\n  }\r\n\r\n  register() {\r\n    const user = {\r\n      firstName: this.state.firstName,\r\n      lastName: this.state.lastName,\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      email: this.state.email,\r\n      admin: false,\r\n    };\r\n    console.log(user);\r\n    Axios.post(\"/user/register\", user).then((res) => console.log(res.data));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"register-wrap\">\r\n        <div id=\"join-text\">Join</div>\r\n        <form id=\"register-box\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"first-name\"\r\n            id=\"first-name\"\r\n            placeholder=\"First Name\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"text\"\r\n            name=\"last-name\"\r\n            id=\"last-name\"\r\n            placeholder=\"Last Name\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            id=\"username\"\r\n            placeholder=\"Username\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Password\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"submit\"\r\n            id=\"submit-registration\"\r\n            onClick={this.onSubmit.bind(this)}\r\n          ></input>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}