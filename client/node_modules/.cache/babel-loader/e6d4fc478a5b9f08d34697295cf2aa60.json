{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\src\\\\components\\\\collegeSearch.js\";\nimport React from \"react\";\nimport Axios from \"axios\";\nimport \"../componentStyles/collegeSearch.css\";\nconst collegeAPIurl = \"https://raw.githubusercontent.com/Hipo/university-domains-list/master/world_universities_and_domains.json\";\nexport default class home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnInputChange = e => {\n      const query = e.target.value;\n      this.setState({\n        query: query\n      });\n      this.showSearchResults(query);\n    };\n\n    this.state = {\n      collegeData: [],\n      query: \"\",\n      results: [],\n      selectedCollege: \"\"\n    };\n  }\n\n  compare(a, b) {\n    // Use toUpperCase() to ignore character casing\n    const collegeA = a.name.toUpperCase();\n    const collegeB = b.name.toUpperCase();\n    let comparison = 0;\n\n    if (collegeA > collegeB) {\n      comparison = 1;\n    } else if (collegeA < collegeB) {\n      comparison = -1;\n    }\n\n    return comparison;\n  }\n\n  showSearchResults(query) {\n    this.setState({\n      results: []\n    });\n    var foundCounter = 0;\n    var resultsArray = [];\n\n    for (var i = 0; i < this.state.collegeData.length; i++) {\n      if (foundCounter == 10) {\n        i = this.state.collegeData.length;\n        const results = document.getElementsByClassName(\"searchResults\");\n\n        for (var k = 0; k < results.length; k++) {\n          results[k].setAttribute(\"style\", \"display: block\");\n          results[k].innerHTML = resultsArray[k].name;\n        }\n      } else if (this.state.collegeData[i].name.toLowerCase().includes(query.toLowerCase())) {\n        foundCounter = foundCounter + 1;\n        resultsArray.push(this.state.collegeData[i]);\n      } else if (i === this.state.collegeData.length - 1) {\n        const results = document.getElementsByClassName(\"searchResults\");\n\n        for (var j = 0; j < results.length; j++) {\n          if (j > foundCounter - 1) {\n            results[j].setAttribute(\"style\", \"display: none\");\n          } else {\n            results[j].setAttribute(\"style\", \"display: block\");\n            results[j].innerHTML = resultsArray[j].name;\n          }\n        }\n      }\n    }\n\n    console.log(resultsArray);\n  }\n\n  choseSearchResult(e) {\n    const searchBar = document.getElementById(\"search-input\");\n    this.setState({\n      selectedCollege: e.target.innerHTML\n    });\n    searchBar.value = e.target.innerHTML;\n    const results = document.getElementsByClassName(\"searchResults\");\n\n    for (var j = 0; j < results.length; j++) {\n      results[j].setAttribute(\"style\", \"display: none\");\n    }\n  }\n\n  submitCollege() {\n    var chosenCollege = null;\n    var validCollege = false;\n    const searchBar = document.getElementById(\"search-input\");\n    const goButton = document.getElementById(\"go-button\");\n    goButton.setAttribute(\"style\", \"color: #49d5d1\");\n    setTimeout(() => {\n      goButton.setAttribute(\"style\", \"color: whitesmoke\");\n    }, 2500);\n\n    if (searchBar.value == \"\") {\n      console.log(\"Nothing was entered\");\n      return;\n    }\n\n    for (var i = 0; i < this.state.collegeData.length; i++) {\n      if (this.state.collegeData[i].name.toLowerCase() == searchBar.value.toLowerCase()) {\n        chosenCollege = this.state.collegeData[i];\n        validCollege = true;\n      }\n    }\n\n    if (!validCollege) {\n      const error = document.getElementById(\"go-error\");\n      error.setAttribute(\"style\", \"display: block\");\n      setTimeout(() => {\n        error.setAttribute(\"style\", \"display: none\");\n      }, 2500);\n      console.log(\"Invalid college\");\n    } else if (validCollege) {\n      this.updateColleges(chosenCollege);\n      this.props.dismissOnSubmit(chosenCollege);\n      console.log(\"Valid college\");\n    }\n  }\n\n  updateColleges(chosenCollege) {\n    Axios.post(\"/homepage\", {\n      body: {\n        college: chosenCollege,\n        _id: this.props.thisUserId\n      },\n      params: {\n        _id: this.props.thisUserId\n      }\n    }).then(res => {\n      console.log(res);\n      console.log(res.data);\n    }).catch(err => console.log(\"error \", err));\n  }\n\n  render() {\n    this.state.collegeData.sort(this.compare);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"search-wrap\",\n      onClick: this.props.dismiss.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"heading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }, \"Search for a College\"), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"go-error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }\n    }, \"Please select a valid college\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"search-input\",\n      placeholder: \"Search...\",\n      autoComplete: \"none\",\n      onChange: this.handleOnInputChange.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"go-button\",\n      onClick: this.submitCollege.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }\n    }, \"Go\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"first\",\n      onClick: this.choseSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }, \"first\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"second\",\n      onClick: this.choseSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }\n    }, \"second\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"third\",\n      onClick: this.choseSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }\n    }, \"third\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"fourth\",\n      onClick: this.choseSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, \"fourth\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"fifth\",\n      onClick: this.choseSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, \"fifth\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"sixth\",\n      onClick: this.choseSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }\n    }, \"sixth\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"seventh\",\n      onClick: this.choseSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, \"seventh\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"eighth\",\n      onClick: this.choseSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }\n    }, \"eighth\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"ninth\",\n      onClick: this.choseSearchResult.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    }, \"ninth\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"searchResults\",\n      id: \"tenth\",\n      onClick: this.choseSearchResult,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }\n    }, \"tenth\")));\n  }\n\n  componentDidMount() {\n    fetch(collegeAPIurl).then(res => {\n      return res.json();\n    }).then(collegeInfo => {\n      const filteredData = collegeInfo.filter(college => college.country === \"United States\");\n      this.setState({\n        collegeData: collegeInfo\n      }, () => {});\n    });\n  }\n\n}","map":{"version":3,"sources":["C:/Users/akhan/Documents/social-media-app/client/src/components/collegeSearch.js"],"names":["React","Axios","collegeAPIurl","home","Component","constructor","props","handleOnInputChange","e","query","target","value","setState","showSearchResults","state","collegeData","results","selectedCollege","compare","a","b","collegeA","name","toUpperCase","collegeB","comparison","foundCounter","resultsArray","i","length","document","getElementsByClassName","k","setAttribute","innerHTML","toLowerCase","includes","push","j","console","log","choseSearchResult","searchBar","getElementById","submitCollege","chosenCollege","validCollege","goButton","setTimeout","error","updateColleges","dismissOnSubmit","post","body","college","_id","thisUserId","params","then","res","data","catch","err","render","sort","dismiss","bind","componentDidMount","fetch","json","collegeInfo","filteredData","filter","country"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,sCAAP;AAEA,MAAMC,aAAa,GACjB,2GADF;AAEA,eAAe,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AAChDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAUnBC,mBAVmB,GAUIC,CAAD,IAAO;AAC3B,YAAMC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAvB;AACA,WAAKC,QAAL,CAAc;AAAEH,QAAAA,KAAK,EAAEA;AAAT,OAAd;AACA,WAAKI,iBAAL,CAAuBJ,KAAvB;AACD,KAdkB;;AAEjB,SAAKK,KAAL,GAAa;AACXC,MAAAA,WAAW,EAAE,EADF;AAEXN,MAAAA,KAAK,EAAE,EAFI;AAGXO,MAAAA,OAAO,EAAE,EAHE;AAIXC,MAAAA,eAAe,EAAE;AAJN,KAAb;AAMD;;AAQDC,EAAAA,OAAO,CAACC,CAAD,EAAIC,CAAJ,EAAO;AACZ;AACA,UAAMC,QAAQ,GAAGF,CAAC,CAACG,IAAF,CAAOC,WAAP,EAAjB;AACA,UAAMC,QAAQ,GAAGJ,CAAC,CAACE,IAAF,CAAOC,WAAP,EAAjB;AACA,QAAIE,UAAU,GAAG,CAAjB;;AACA,QAAIJ,QAAQ,GAAGG,QAAf,EAAyB;AACvBC,MAAAA,UAAU,GAAG,CAAb;AACD,KAFD,MAEO,IAAIJ,QAAQ,GAAGG,QAAf,EAAyB;AAC9BC,MAAAA,UAAU,GAAG,CAAC,CAAd;AACD;;AACD,WAAOA,UAAP;AACD;;AAEDZ,EAAAA,iBAAiB,CAACJ,KAAD,EAAQ;AACvB,SAAKG,QAAL,CAAc;AAAEI,MAAAA,OAAO,EAAE;AAAX,KAAd;AACA,QAAIU,YAAY,GAAG,CAAnB;AACA,QAAIC,YAAY,GAAG,EAAnB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKd,KAAL,CAAWC,WAAX,CAAuBc,MAA3C,EAAmDD,CAAC,EAApD,EAAwD;AACtD,UAAIF,YAAY,IAAI,EAApB,EAAwB;AACtBE,QAAAA,CAAC,GAAG,KAAKd,KAAL,CAAWC,WAAX,CAAuBc,MAA3B;AACA,cAAMb,OAAO,GAAGc,QAAQ,CAACC,sBAAT,CAAgC,eAAhC,CAAhB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhB,OAAO,CAACa,MAA5B,EAAoCG,CAAC,EAArC,EAAyC;AACvChB,UAAAA,OAAO,CAACgB,CAAD,CAAP,CAAWC,YAAX,CAAwB,OAAxB,EAAiC,gBAAjC;AACAjB,UAAAA,OAAO,CAACgB,CAAD,CAAP,CAAWE,SAAX,GAAuBP,YAAY,CAACK,CAAD,CAAZ,CAAgBV,IAAvC;AACD;AACF,OAPD,MAOO,IACL,KAAKR,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BN,IAA1B,CACGa,WADH,GAEGC,QAFH,CAEY3B,KAAK,CAAC0B,WAAN,EAFZ,CADK,EAIL;AACAT,QAAAA,YAAY,GAAGA,YAAY,GAAG,CAA9B;AACAC,QAAAA,YAAY,CAACU,IAAb,CAAkB,KAAKvB,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,CAAlB;AACD,OAPM,MAOA,IAAIA,CAAC,KAAK,KAAKd,KAAL,CAAWC,WAAX,CAAuBc,MAAvB,GAAgC,CAA1C,EAA6C;AAClD,cAAMb,OAAO,GAAGc,QAAQ,CAACC,sBAAT,CAAgC,eAAhC,CAAhB;;AACA,aAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,OAAO,CAACa,MAA5B,EAAoCS,CAAC,EAArC,EAAyC;AACvC,cAAIA,CAAC,GAAGZ,YAAY,GAAG,CAAvB,EAA0B;AACxBV,YAAAA,OAAO,CAACsB,CAAD,CAAP,CAAWL,YAAX,CAAwB,OAAxB,EAAiC,eAAjC;AACD,WAFD,MAEO;AACLjB,YAAAA,OAAO,CAACsB,CAAD,CAAP,CAAWL,YAAX,CAAwB,OAAxB,EAAiC,gBAAjC;AACAjB,YAAAA,OAAO,CAACsB,CAAD,CAAP,CAAWJ,SAAX,GAAuBP,YAAY,CAACW,CAAD,CAAZ,CAAgBhB,IAAvC;AACD;AACF;AACF;AACF;;AACDiB,IAAAA,OAAO,CAACC,GAAR,CAAYb,YAAZ;AACD;;AAEDc,EAAAA,iBAAiB,CAACjC,CAAD,EAAI;AACnB,UAAMkC,SAAS,GAAGZ,QAAQ,CAACa,cAAT,CAAwB,cAAxB,CAAlB;AACA,SAAK/B,QAAL,CAAc;AAAEK,MAAAA,eAAe,EAAET,CAAC,CAACE,MAAF,CAASwB;AAA5B,KAAd;AACAQ,IAAAA,SAAS,CAAC/B,KAAV,GAAkBH,CAAC,CAACE,MAAF,CAASwB,SAA3B;AACA,UAAMlB,OAAO,GAAGc,QAAQ,CAACC,sBAAT,CAAgC,eAAhC,CAAhB;;AACA,SAAK,IAAIO,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,OAAO,CAACa,MAA5B,EAAoCS,CAAC,EAArC,EAAyC;AACvCtB,MAAAA,OAAO,CAACsB,CAAD,CAAP,CAAWL,YAAX,CAAwB,OAAxB,EAAiC,eAAjC;AACD;AACF;;AAEDW,EAAAA,aAAa,GAAG;AACd,QAAIC,aAAa,GAAG,IAApB;AACA,QAAIC,YAAY,GAAG,KAAnB;AACA,UAAMJ,SAAS,GAAGZ,QAAQ,CAACa,cAAT,CAAwB,cAAxB,CAAlB;AACA,UAAMI,QAAQ,GAAGjB,QAAQ,CAACa,cAAT,CAAwB,WAAxB,CAAjB;AACAI,IAAAA,QAAQ,CAACd,YAAT,CAAsB,OAAtB,EAA+B,gBAA/B;AACAe,IAAAA,UAAU,CAAC,MAAM;AACfD,MAAAA,QAAQ,CAACd,YAAT,CAAsB,OAAtB,EAA+B,mBAA/B;AACD,KAFS,EAEP,IAFO,CAAV;;AAGA,QAAGS,SAAS,CAAC/B,KAAV,IAAmB,EAAtB,EAAyB;AACvB4B,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACA;AACD;;AACD,SAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKd,KAAL,CAAWC,WAAX,CAAuBc,MAA3C,EAAmDD,CAAC,EAApD,EAAwD;AACtD,UAAI,KAAKd,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,EAA0BN,IAA1B,CAA+Ba,WAA/B,MAAgDO,SAAS,CAAC/B,KAAV,CAAgBwB,WAAhB,EAApD,EAAmF;AACjFU,QAAAA,aAAa,GAAG,KAAK/B,KAAL,CAAWC,WAAX,CAAuBa,CAAvB,CAAhB;AACAkB,QAAAA,YAAY,GAAG,IAAf;AACD;AACF;;AACD,QAAG,CAACA,YAAJ,EAAiB;AACf,YAAMG,KAAK,GAAGnB,QAAQ,CAACa,cAAT,CAAwB,UAAxB,CAAd;AACAM,MAAAA,KAAK,CAAChB,YAAN,CAAmB,OAAnB,EAA4B,gBAA5B;AACAe,MAAAA,UAAU,CAAC,MAAM;AACfC,QAAAA,KAAK,CAAChB,YAAN,CAAmB,OAAnB,EAA4B,eAA5B;AACD,OAFS,EAEP,IAFO,CAAV;AAGAM,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACD,KAPD,MAQK,IAAGM,YAAH,EAAgB;AACpB,WAAKI,cAAL,CAAoBL,aAApB;AACC,WAAKvC,KAAL,CAAW6C,eAAX,CAA2BN,aAA3B;AACAN,MAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACD;AACF;;AAEDU,EAAAA,cAAc,CAACL,aAAD,EAAe;AAC3B5C,IAAAA,KAAK,CAACmD,IAAN,CAAW,WAAX,EAAwB;AACtBC,MAAAA,IAAI,EAAG;AACLC,QAAAA,OAAO,EAAET,aADJ;AAELU,QAAAA,GAAG,EAAE,KAAKjD,KAAL,CAAWkD;AAFX,OADe;AAKtBC,MAAAA,MAAM,EAAE;AACNF,QAAAA,GAAG,EAAE,KAAKjD,KAAL,CAAWkD;AADV;AALc,KAAxB,EAQGE,IARH,CAQSC,GAAD,IAAS;AACfpB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,GAAZ;AACApB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,GAAG,CAACC,IAAhB;AACD,KAXD,EAYCC,KAZD,CAYQC,GAAD,IAASvB,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBsB,GAAtB,CAZhB;AAaD;;AAEDC,EAAAA,MAAM,GAAG;AACP,SAAKjD,KAAL,CAAWC,WAAX,CAAuBiD,IAAvB,CAA4B,KAAK9C,OAAjC;AACA,wBACA;AAAK,MAAA,EAAE,EAAG,aAAV;AAAwB,MAAA,OAAO,EAAI,KAAKZ,KAAL,CAAW2D,OAAX,CAAmBC,IAAnB,CAAwB,IAAxB,CAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF,eAEE;AAAO,MAAA,EAAE,EAAG,UAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAFF,eAKE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,EAAE,EAAC,cAFL;AAGE,MAAA,WAAW,EAAC,WAHd;AAIE,MAAA,YAAY,EAAG,MAJjB;AAKE,MAAA,QAAQ,EAAE,KAAK3D,mBAAL,CAAyB2D,IAAzB,CAA8B,IAA9B,CALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALF,eAYE;AAAQ,MAAA,EAAE,EAAC,WAAX;AAAuB,MAAA,OAAO,EAAE,KAAKtB,aAAL,CAAmBsB,IAAnB,CAAwB,IAAxB,CAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAZF,eAeE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,OAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,IAAvB,CAA4B,IAA5B,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAfF,eAsBE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,QAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,IAAvB,CAA4B,IAA5B,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtBF,eA6BE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,OAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,IAAvB,CAA4B,IAA5B,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA7BF,eAoCE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,QAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,IAAvB,CAA4B,IAA5B,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBApCF,eA2CE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,OAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,IAAvB,CAA4B,IAA5B,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA3CF,eAkDE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,OAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,IAAvB,CAA4B,IAA5B,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAlDF,eAyDE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,SAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,IAAvB,CAA4B,IAA5B,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAzDF,eAgEE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,QAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,IAAvB,CAA4B,IAA5B,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAhEF,eAuEE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,OAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAAL,CAAuByB,IAAvB,CAA4B,IAA5B,CAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAvEF,eA8EE;AACE,MAAA,SAAS,EAAC,eADZ;AAEE,MAAA,EAAE,EAAC,OAFL;AAGE,MAAA,OAAO,EAAE,KAAKzB,iBAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eA9EF,CADF,CADA;AA0FD;;AAED0B,EAAAA,iBAAiB,GAAG;AAClBC,IAAAA,KAAK,CAAClE,aAAD,CAAL,CACGwD,IADH,CACSC,GAAD,IAAS;AACb,aAAOA,GAAG,CAACU,IAAJ,EAAP;AACD,KAHH,EAIGX,IAJH,CAISY,WAAD,IAAiB;AACrB,YAAMC,YAAY,GAAGD,WAAW,CAACE,MAAZ,CAClBlB,OAAD,IAAaA,OAAO,CAACmB,OAAR,KAAoB,eADd,CAArB;AAGA,WAAK7D,QAAL,CAAc;AAAEG,QAAAA,WAAW,EAAEuD;AAAf,OAAd,EAA4C,MAAM,CAAE,CAApD;AACD,KATH;AAUD;;AArO+C","sourcesContent":["import React from \"react\";\r\nimport Axios from \"axios\";\r\nimport \"../componentStyles/collegeSearch.css\";\r\n\r\nconst collegeAPIurl =\r\n  \"https://raw.githubusercontent.com/Hipo/university-domains-list/master/world_universities_and_domains.json\";\r\nexport default class home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      collegeData: [],\r\n      query: \"\",\r\n      results: [],\r\n      selectedCollege: \"\",\r\n    };\r\n  }\r\n\r\n  handleOnInputChange = (e) => {\r\n    const query = e.target.value;\r\n    this.setState({ query: query });\r\n    this.showSearchResults(query);\r\n  };\r\n\r\n  compare(a, b) {\r\n    // Use toUpperCase() to ignore character casing\r\n    const collegeA = a.name.toUpperCase();\r\n    const collegeB = b.name.toUpperCase();\r\n    let comparison = 0;\r\n    if (collegeA > collegeB) {\r\n      comparison = 1;\r\n    } else if (collegeA < collegeB) {\r\n      comparison = -1;\r\n    }\r\n    return comparison;\r\n  }\r\n\r\n  showSearchResults(query) {\r\n    this.setState({ results: [] });\r\n    var foundCounter = 0;\r\n    var resultsArray = [];\r\n    for (var i = 0; i < this.state.collegeData.length; i++) {\r\n      if (foundCounter == 10) {\r\n        i = this.state.collegeData.length;\r\n        const results = document.getElementsByClassName(\"searchResults\");\r\n        for (var k = 0; k < results.length; k++) {\r\n          results[k].setAttribute(\"style\", \"display: block\");\r\n          results[k].innerHTML = resultsArray[k].name;\r\n        }\r\n      } else if (\r\n        this.state.collegeData[i].name\r\n          .toLowerCase()\r\n          .includes(query.toLowerCase())\r\n      ) {\r\n        foundCounter = foundCounter + 1;\r\n        resultsArray.push(this.state.collegeData[i]);\r\n      } else if (i === this.state.collegeData.length - 1) {\r\n        const results = document.getElementsByClassName(\"searchResults\");\r\n        for (var j = 0; j < results.length; j++) {\r\n          if (j > foundCounter - 1) {\r\n            results[j].setAttribute(\"style\", \"display: none\");\r\n          } else {\r\n            results[j].setAttribute(\"style\", \"display: block\");\r\n            results[j].innerHTML = resultsArray[j].name;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    console.log(resultsArray);\r\n  }\r\n\r\n  choseSearchResult(e) {\r\n    const searchBar = document.getElementById(\"search-input\");\r\n    this.setState({ selectedCollege: e.target.innerHTML });\r\n    searchBar.value = e.target.innerHTML;\r\n    const results = document.getElementsByClassName(\"searchResults\");\r\n    for (var j = 0; j < results.length; j++) {\r\n      results[j].setAttribute(\"style\", \"display: none\");\r\n    }\r\n  }\r\n\r\n  submitCollege() {\r\n    var chosenCollege = null\r\n    var validCollege = false;\r\n    const searchBar = document.getElementById(\"search-input\");\r\n    const goButton = document.getElementById(\"go-button\");\r\n    goButton.setAttribute(\"style\", \"color: #49d5d1\")\r\n    setTimeout(() => {\r\n      goButton.setAttribute(\"style\", \"color: whitesmoke\")\r\n    }, 2500);\r\n    if(searchBar.value == \"\"){\r\n      console.log(\"Nothing was entered\")\r\n      return\r\n    }\r\n    for (var i = 0; i < this.state.collegeData.length; i++) {\r\n      if (this.state.collegeData[i].name.toLowerCase() == searchBar.value.toLowerCase()) {\r\n        chosenCollege = this.state.collegeData[i]\r\n        validCollege = true;\r\n      }\r\n    }\r\n    if(!validCollege){\r\n      const error = document.getElementById(\"go-error\")\r\n      error.setAttribute(\"style\", \"display: block\")\r\n      setTimeout(() => {\r\n        error.setAttribute(\"style\", \"display: none\")\r\n      }, 2500);\r\n      console.log(\"Invalid college\")\r\n    }\r\n    else if(validCollege){\r\n     this.updateColleges(chosenCollege)\r\n      this.props.dismissOnSubmit(chosenCollege)\r\n      console.log(\"Valid college\")\r\n    }\r\n  }\r\n\r\n  updateColleges(chosenCollege){ \r\n    Axios.post(\"/homepage\", {\r\n      body : {\r\n        college: chosenCollege,\r\n        _id: this.props.thisUserId\r\n      }, \r\n      params :{\r\n        _id: this.props.thisUserId\r\n      }\r\n    }).then((res) => {\r\n      console.log(res)\r\n      console.log(res.data)\r\n    })\r\n    .catch((err) => console.log(\"error \", err))\r\n  }\r\n\r\n  render() {\r\n    this.state.collegeData.sort(this.compare);\r\n    return (\r\n    <div id = \"search-wrap\" onClick = {this.props.dismiss.bind(this)}> \r\n      <div className=\"container\">\r\n        <h2 className=\"heading\">Search for a College</h2>\r\n        <label id = \"go-error\">\r\n          Please select a valid college\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          id=\"search-input\"\r\n          placeholder=\"Search...\"\r\n          autoComplete = \"none\"\r\n          onChange={this.handleOnInputChange.bind(this)}\r\n        ></input>\r\n        <button id=\"go-button\" onClick={this.submitCollege.bind(this)}>\r\n          Go\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"first\"\r\n          onClick={this.choseSearchResult.bind(this)}\r\n        >\r\n          first\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"second\"\r\n          onClick={this.choseSearchResult.bind(this)}\r\n        >\r\n          second\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"third\"\r\n          onClick={this.choseSearchResult.bind(this)}\r\n        >\r\n          third\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"fourth\"\r\n          onClick={this.choseSearchResult.bind(this)}\r\n        >\r\n          fourth\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"fifth\"\r\n          onClick={this.choseSearchResult.bind(this)}\r\n        >\r\n          fifth\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"sixth\"\r\n          onClick={this.choseSearchResult.bind(this)}\r\n        >\r\n          sixth\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"seventh\"\r\n          onClick={this.choseSearchResult.bind(this)}\r\n        >\r\n          seventh\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"eighth\"\r\n          onClick={this.choseSearchResult.bind(this)}\r\n        >\r\n          eighth\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"ninth\"\r\n          onClick={this.choseSearchResult.bind(this)}\r\n        >\r\n          ninth\r\n        </button>\r\n        <button\r\n          className=\"searchResults\"\r\n          id=\"tenth\"\r\n          onClick={this.choseSearchResult}\r\n        >\r\n          tenth\r\n        </button>\r\n      </div>\r\n      </div> \r\n    );\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(collegeAPIurl)\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((collegeInfo) => {\r\n        const filteredData = collegeInfo.filter(\r\n          (college) => college.country === \"United States\"\r\n        );\r\n        this.setState({ collegeData: collegeInfo }, () => {});\r\n      });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}