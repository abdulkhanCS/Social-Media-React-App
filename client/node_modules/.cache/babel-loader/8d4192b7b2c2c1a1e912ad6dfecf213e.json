{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\src\\\\components\\\\register.js\";\nimport React from \"react\";\nimport \"../componentStyles/register.css\";\nimport { Link } from \"react-router-dom\";\nimport Axios from \"axios\";\nexport default class register extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      firstName: \"\",\n      lastName: \"\",\n      username: \"\",\n      password: \"\",\n      email: \"\",\n      admin: true\n    };\n    this.onSubmit.bind(this);\n    this.assign.bind(this);\n    this.register.bind(this);\n    this.hashPassword.bind(this);\n    this.getPassword.bind(this);\n  }\n\n  assign(e) {\n    console.log(\"change\");\n\n    if (e.target.name === \"first-name\") {\n      this.setState({\n        firstName: e.target.value\n      });\n    }\n\n    if (e.target.name === \"last-name\") {\n      this.setState({\n        lastName: e.target.value\n      });\n    }\n\n    if (e.target.name === \"email\") {\n      this.setState({\n        email: e.target.value\n      });\n    }\n\n    if (e.target.name === \"username\") {\n      this.setState({\n        username: e.target.value\n      });\n    }\n\n    if (e.target.name === \"password\") {\n      this.setState({\n        password: e.target.value\n      });\n    }\n  }\n\n  async getPassword(password) {\n    await this.hashPassword(password).then(hash => {\n      console.log(\"at getPass it is \", hash);\n      this.setState({\n        password: hash\n      });\n    }).catch(err => {\n      console.log(\"at getPassword\", err);\n    });\n  }\n\n  hashPassword(password) {\n    console.log(\"hashing is \", password);\n\n    const bcrypt = require(\"bcryptjs\");\n\n    return new Promise((resolve, reject) => {\n      bcrypt.hash(password, 10, function (err, hash) {\n        if (err) reject(err);\n        console.log(\"at hashPassword\", hash);\n        resolve(hash);\n      });\n    });\n  }\n\n  async onSubmit(e) {\n    e.preventDefault();\n    await this.getPassword(this.state.password);\n    console.log(\"at submit \", this.state.password);\n    this.register();\n  }\n\n  register() {\n    const user = {\n      firstName: this.state.firstName,\n      lastName: this.state.lastName,\n      username: this.state.username,\n      password: this.state.password,\n      email: this.state.email,\n      admin: false\n    };\n    console.log(user);\n    Axios.post(\"/user/register\", user).then(res => console.log(res.data));\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"register-wrap\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"join-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, \"Join\"), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"register-box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"first-name\",\n      id: \"first-name\",\n      placeholder: \"First Name\",\n      className: \"user-info\",\n      onChange: this.assign.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"last-name\",\n      id: \"last-name\",\n      placeholder: \"Last Name\",\n      className: \"user-info\",\n      onChange: this.assign.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"email\",\n      name: \"email\",\n      id: \"email\",\n      placeholder: \"Email\",\n      className: \"user-info\",\n      onChange: this.assign.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      id: \"username\",\n      placeholder: \"Username\",\n      className: \"user-info\",\n      onChange: this.assign.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      placeholder: \"Password\",\n      className: \"user-info\",\n      onChange: this.assign.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      id: \"submit-registration\",\n      onClick: this.onSubmit.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/akhan/Documents/social-media-app/client/src/components/register.js"],"names":["React","Link","Axios","register","Component","constructor","state","firstName","lastName","username","password","email","admin","onSubmit","bind","assign","hashPassword","getPassword","e","console","log","target","name","setState","value","then","hash","catch","err","bcrypt","require","Promise","resolve","reject","preventDefault","user","post","res","data","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport \"../componentStyles/register.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\n\r\nexport default class register extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      firstName: \"\",\r\n      lastName: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n      email: \"\",\r\n      admin: true,\r\n    };\r\n    this.onSubmit.bind(this);\r\n    this.assign.bind(this);\r\n    this.register.bind(this);\r\n    this.hashPassword.bind(this);\r\n    this.getPassword.bind(this);\r\n  }\r\n\r\n  assign(e) {\r\n    console.log(\"change\");\r\n    if (e.target.name === \"first-name\") {\r\n      this.setState({ firstName: e.target.value });\r\n    }\r\n    if (e.target.name === \"last-name\") {\r\n      this.setState({ lastName: e.target.value });\r\n    }\r\n    if (e.target.name === \"email\") {\r\n      this.setState({ email: e.target.value });\r\n    }\r\n    if (e.target.name === \"username\") {\r\n      this.setState({ username: e.target.value });\r\n    }\r\n    if (e.target.name === \"password\") {\r\n      this.setState({ password: e.target.value });\r\n    }\r\n  }\r\n\r\n  async getPassword(password) {\r\n    await this.hashPassword(password)\r\n      .then((hash) => {\r\n        console.log(\"at getPass it is \", hash);\r\n        this.setState({ password: hash });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"at getPassword\", err);\r\n      });\r\n  }\r\n\r\n  hashPassword(password) {\r\n    console.log(\"hashing is \", password);\r\n    const bcrypt = require(\"bcryptjs\");\r\n    return new Promise((resolve, reject) => {\r\n      bcrypt.hash(password, 10, function (err, hash) {\r\n        if (err) reject(err);\r\n        console.log(\"at hashPassword\", hash);\r\n        resolve(hash);\r\n      });\r\n    });\r\n  }\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n    await this.getPassword(this.state.password);\r\n    console.log(\"at submit \", this.state.password);\r\n    this.register();\r\n  }\r\n\r\n  register() {\r\n    const user = {\r\n      firstName: this.state.firstName,\r\n      lastName: this.state.lastName,\r\n      username: this.state.username,\r\n      password: this.state.password,\r\n      email: this.state.email,\r\n      admin: false,\r\n    };\r\n    console.log(user);\r\n    Axios.post(\"/user/register\", user).then((res) => console.log(res.data));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"register-wrap\">\r\n        <div id=\"join-text\">Join</div>\r\n        <form id=\"register-box\">\r\n          <input\r\n            type=\"text\"\r\n            name=\"first-name\"\r\n            id=\"first-name\"\r\n            placeholder=\"First Name\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"text\"\r\n            name=\"last-name\"\r\n            id=\"last-name\"\r\n            placeholder=\"Last Name\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Email\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            id=\"username\"\r\n            placeholder=\"Username\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Password\"\r\n            className=\"user-info\"\r\n            onChange={this.assign.bind(this)}\r\n          ></input>\r\n          <input\r\n            type=\"submit\"\r\n            id=\"submit-registration\"\r\n            onClick={this.onSubmit.bind(this)}\r\n          ></input>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}