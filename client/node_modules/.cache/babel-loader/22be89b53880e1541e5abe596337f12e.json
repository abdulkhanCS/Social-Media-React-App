{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\src\\\\components\\\\homepage.js\";\nimport React from \"react\";\nimport CollegeGroup from \"./collegeGroup.js\";\nimport CollegeSearch from \"./collegeSearch.js\";\nimport \"../componentStyles/homepage.css\";\nimport { Link, useParams } from \"react-router-dom\";\nimport Axios from \"axios\";\nexport default class home extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      showSearch: false,\n      userId: \"\",\n      userFirstName: \"\",\n      userLastName: \"\",\n      userAdmin: false,\n      userEmail: \"\",\n      userCollegeGroups: [],\n      username: \"\"\n    };\n    this.pushToForum.bind(this);\n  }\n\n  componentDidMount() {\n    const getData = this.getUserData.bind(this);\n    getData();\n  }\n\n  showSearchComponent() {\n    this.setState({\n      showSearch: true\n    });\n  }\n\n  collapseSearch(e) {\n    console.log(e.target.id);\n\n    if (this.state.showSearch && e.target.id == \"search-wrap\") {\n      //User clicked on surrounding of search to collapse\n      this.setState({\n        showSearch: false\n      });\n    }\n  }\n\n  collapseSearchAndAdd(chosenCollege) {\n    this.setState(prevState => ({\n      userCollegeGroups: [...prevState.userCollegeGroups, chosenCollege]\n    }));\n    this.setState({\n      showSearch: false\n    });\n  }\n\n  getUserData() {\n    console.log(\"getting \");\n    Axios.get(\"/homepage\", {\n      params: {\n        username: this.props.location.state.thisUsername\n      }\n    }).then(res => {\n      const userData = res.data;\n      this.setState(prevState => ({\n        userId: userData._id,\n        userFirstName: userData.firstName,\n        userLastName: userData.lastName,\n        userEmail: userData.email,\n        userAdmin: userData.admin,\n        userCollegeGroups: userData.collegeGroups\n      }));\n      console.log(\"user data retrieved\");\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  async pushToForum(e) {\n    const collegeName = e.target.textContent;\n    fetch(\"http://raw.githubusercontent.com/Hipo/university-domains-list/master/world_universities_and_domains.json\").then(res => {\n      return res.json();\n    }).then(collegeInfo => {\n      var foundCollege;\n      collegeInfo.map(function (college) {\n        if (college.name == collegeName) {\n          foundCollege = college;\n        }\n      });\n      return foundCollege;\n    }).then(foundCollege => {\n      console.log(\"THIS IS FOUND COLLEGE \", foundCollege);\n      this.props.history.push({\n        pathname: '/forum',\n        state: {\n          thisUserID: this.state.userId,\n          college: foundCollege,\n          username: this.props.location.state.thisUsername,\n          userFirstName: this.state.userFirstName,\n          userLastName: this.state.userLastName,\n          userEmail: this.state.userEmail\n        }\n      });\n    });\n  }\n\n  render() {\n    const savedColleges = this.state.userCollegeGroups.map(function (college) {\n      return /*#__PURE__*/React.createElement(CollegeGroup, {\n        key: college.name,\n        name: college.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 12\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, this.state.showSearch ? /*#__PURE__*/React.createElement(CollegeSearch, {\n      dismiss: this.collapseSearch.bind(this),\n      dismissOnSubmit: this.collapseSearchAndAdd.bind(this),\n      thisUserId: this.state.userId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"homepage-div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"college-groups\",\n      onClick: this.pushToForum.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, savedColleges), /*#__PURE__*/React.createElement(\"button\", {\n      id: \"add-college-group\",\n      onClick: this.showSearchComponent.bind(this),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }\n    }, \"Add\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"profile-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      id: \"profile-picture\",\n      src: \"https://img.rawpixel.com/s3fs-private/rawpixel_images/website_content/v246-tent-33-business_2.jpg?bg=transparent&con=3&cs=srgb&dpr=1&fm=jpg&ixlib=php-3.1.0&q=65&usm=15&vib=3&w=800&s=19ed9a41550e368fefefc653763e9497\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      id: \"profile-name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, this.state.userFirstName, \"'s homepage\")), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"homepage-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/akhan/Documents/social-media-app/client/src/components/homepage.js"],"names":["React","CollegeGroup","CollegeSearch","Link","useParams","Axios","home","Component","constructor","props","state","showSearch","userId","userFirstName","userLastName","userAdmin","userEmail","userCollegeGroups","username","pushToForum","bind","componentDidMount","getData","getUserData","showSearchComponent","setState","collapseSearch","e","console","log","target","id","collapseSearchAndAdd","chosenCollege","prevState","get","params","location","thisUsername","then","res","userData","data","_id","firstName","lastName","email","admin","collegeGroups","catch","err","collegeName","textContent","fetch","json","collegeInfo","foundCollege","map","college","name","history","push","pathname","thisUserID","render","savedColleges"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport CollegeGroup from \"./collegeGroup.js\"\r\nimport CollegeSearch from \"./collegeSearch.js\";\r\nimport \"../componentStyles/homepage.css\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\n\r\nexport default class home extends React.Component {\r\n  constructor(props) {\r\n    super();\r\n\r\n    this.state = {\r\n      showSearch: false,\r\n      userId: \"\",\r\n      userFirstName: \"\",\r\n      userLastName: \"\",\r\n      userAdmin: false,\r\n      userEmail: \"\",\r\n      userCollegeGroups: [],\r\n      username: \"\"\r\n    };\r\n    this.pushToForum.bind(this)\r\n  }\r\n\r\n  componentDidMount(){\r\n    const getData = this.getUserData.bind(this)\r\n    getData()\r\n  }\r\n\r\n  showSearchComponent() {\r\n    this.setState({ showSearch: true });\r\n  }\r\n\r\n  collapseSearch(e) {\r\n    console.log(e.target.id);\r\n    if (this.state.showSearch && e.target.id == \"search-wrap\") { //User clicked on surrounding of search to collapse\r\n      this.setState({ showSearch: false });\r\n    }\r\n  }\r\n\r\n  collapseSearchAndAdd(chosenCollege) {\r\n    this.setState(prevState => ({\r\n      userCollegeGroups: [...prevState.userCollegeGroups, chosenCollege]\r\n    }))\r\n     this.setState({ showSearch: false,  });\r\n  }\r\n\r\n  getUserData() {\r\n    console.log(\"getting \");\r\n    Axios.get(\"/homepage\", {\r\n      params: {\r\n        username: this.props.location.state.thisUsername,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        const userData = res.data;\r\n        this.setState((prevState) => ({\r\n          userId : userData._id,\r\n          userFirstName: userData.firstName,\r\n          userLastName: userData.lastName,\r\n          userEmail: userData.email,\r\n          userAdmin: userData.admin,\r\n          userCollegeGroups: userData.collegeGroups,\r\n        }));\r\n        console.log(\"user data retrieved\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n  \r\n  async pushToForum(e){\r\n    const collegeName = e.target.textContent\r\n    fetch(\"http://raw.githubusercontent.com/Hipo/university-domains-list/master/world_universities_and_domains.json\")\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((collegeInfo) => {\r\n        var foundCollege;\r\n        collegeInfo.map(function(college){\r\n          if(college.name == collegeName){\r\n            foundCollege = college;\r\n          }\r\n        })\r\n        return foundCollege\r\n      })\r\n      .then((foundCollege) =>{\r\n        console.log(\"THIS IS FOUND COLLEGE \", foundCollege)\r\n        this.props.history.push({\r\n          pathname: '/forum',\r\n          state: { thisUserID: this.state.userId, college: foundCollege, username: this.props.location.state.thisUsername, userFirstName: this.state.userFirstName, userLastName: this.state.userLastName, userEmail: this.state.userEmail }\r\n          }); \r\n      })    \r\n  }\r\n\r\n  render() {\r\n    const savedColleges = this.state.userCollegeGroups.map(function(college){\r\n      return( \r\n           <CollegeGroup key = {college.name} name={college.name}/>\r\n             )\r\n    });\r\n    return (\r\n      <div>\r\n        {this.state.showSearch ? (\r\n          <CollegeSearch dismiss={this.collapseSearch.bind(this)} dismissOnSubmit={this.collapseSearchAndAdd.bind(this)} thisUserId = {this.state.userId}/>\r\n        ) : null}\r\n        <div id=\"homepage-div\">\r\n          <div id=\"college-groups\" onClick = {this.pushToForum.bind(this)}>\r\n              {savedColleges}\r\n            {/* <img\r\n              className=\"no-colleges\"\r\n              id=\"no-colleges-image\"\r\n              src=\"https://i.imgur.com/ozNNNIK.png\"\r\n            />\r\n            <h4 className=\"no-colleges\" id=\"no-colleges-text\">\r\n              You have no groups! Click the add button to add groups\r\n            </h4> */}         \r\n          </div>\r\n          <button\r\n            id=\"add-college-group\"\r\n            onClick={this.showSearchComponent.bind(this)}\r\n          >\r\n            Add\r\n          </button>\r\n          <div id=\"profile-section\">\r\n            <img\r\n              id=\"profile-picture\"\r\n              src=\"https://img.rawpixel.com/s3fs-private/rawpixel_images/website_content/v246-tent-33-business_2.jpg?bg=transparent&con=3&cs=srgb&dpr=1&fm=jpg&ixlib=php-3.1.0&q=65&usm=15&vib=3&w=800&s=19ed9a41550e368fefefc653763e9497\"\r\n            />\r\n            <h2 id=\"profile-name\">{this.state.userFirstName}'s homepage</h2>\r\n          </div>\r\n          <div id=\"homepage-menu\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}