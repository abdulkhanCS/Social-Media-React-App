{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\akhan\\\\Documents\\\\social-media-app\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import ForumPost from\"./forumPost.js\";import\"../componentStyles/collegeForum.css\";import{Link,useParams}from\"react-router-dom\";import Axios from\"axios\";import{render}from\"@testing-library/react\";import CreateForumPost from\"./createForumPost.js\";var collegeForum=/*#__PURE__*/function(_React$Component){_inherits(collegeForum,_React$Component);var _super=_createSuper(collegeForum);function collegeForum(){var _this;_classCallCheck(this,collegeForum);_this=_super.call(this);_this.state={thisUserID:\"\",college:\"\",username:\"\",userId:\"\",userFirstName:\"\",userLastName:\"\",userEmail:\"\",userAdmin:false,userCollegeGroups:[],showCreatePost:false,posts:[]};return _this;}_createClass(collegeForum,[{key:\"componentDidMount\",value:function componentDidMount(){this.getPostData();console.log(\"LOADED\");}},{key:\"collapseCreatePost\",value:function collapseCreatePost(e){if(this.state.showCreatePost&&e.target.id==\"create-post-wrap\"){//User clicked on surrounding of search to collapse\nthis.setState({showCreatePost:false});}console.log(\"STATE IS \",this.state.showCreatePost);}},{key:\"collapseCreatePostAndSubmit\",value:function collapseCreatePostAndSubmit(chosenCollege){this.setState(function(prevState){return{userCollegeGroups:[].concat(_toConsumableArray(prevState.userCollegeGroups),[chosenCollege])};});this.setState({showCreatePost:false});}},{key:\"getPostData\",value:function getPostData(){var _this2=this;console.log(\"COLLEGE RIGHT HERE IS \",this.props.location.state.college.name);Axios.get(\"/forum\",{college:this.props.location.state.college.name}).then(function(res){var postData=res.data;_this2.setState({posts:postData});console.log(\"post data retrieved\");}).catch(function(err){console.log(err);});}},{key:\"showCreatePost\",value:function showCreatePost(){this.setState({showCreatePost:true});}},{key:\"hideCreatePost\",value:function hideCreatePost(){this.setState({showCreatePost:false});}},{key:\"render\",value:function render(){var i=-1;var renderPosts=this.state.posts.map(function(post){console.log(\"POST IS \",post);i=i+1;return/*#__PURE__*/React.createElement(ForumPost,{key:i,post:post});});return/*#__PURE__*/React.createElement(\"div\",{id:\"forum-container\"},/*#__PURE__*/React.createElement(\"div\",{id:\"forum-header\"},/*#__PURE__*/React.createElement(\"h3\",{id:\"forum-college-country\"},this.props.location.state.college.country),/*#__PURE__*/React.createElement(\"h1\",{id:\"forum-college-name\"},this.props.location.state.college.name),/*#__PURE__*/React.createElement(\"h3\",{id:\"forum-college-webpages\"},this.props.location.state.college.web_pages),/*#__PURE__*/React.createElement(\"div\",{id:\"add-post-to-forum\",onClick:this.showCreatePost.bind(this)},/*#__PURE__*/React.createElement(\"h6\",null,\"Add\"))),/*#__PURE__*/React.createElement(\"div\",{id:\"forum-feed\"},renderPosts),this.state.showCreatePost?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CreateForumPost,{dismiss:this.collapseCreatePost.bind(this),college:this.props.location.state.college,username:this.props.location.state.username,firstName:this.props.location.state.userFirstName,lastName:this.props.location.state.userLastName,email:this.props.location.state.userEmail,hide:this.hideCreatePost.bind(this)})):null);}}]);return collegeForum;}(React.Component);export{collegeForum as default};","map":{"version":3,"sources":["C:/Users/akhan/Documents/social-media-app/client/src/components/collegeForum.js"],"names":["React","ForumPost","Link","useParams","Axios","render","CreateForumPost","collegeForum","state","thisUserID","college","username","userId","userFirstName","userLastName","userEmail","userAdmin","userCollegeGroups","showCreatePost","posts","getPostData","console","log","e","target","id","setState","chosenCollege","prevState","props","location","name","get","then","res","postData","data","catch","err","i","renderPosts","map","post","country","web_pages","bind","collapseCreatePost","hideCreatePost","Component"],"mappings":"62BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,gBAAtB,CACA,MAAO,qCAAP,CACA,OAASC,IAAT,CAAeC,SAAf,KAAgC,kBAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,MAAT,KAAuB,wBAAvB,CACA,MAAOC,CAAAA,eAAP,KAA4B,sBAA5B,C,GAEqBC,CAAAA,Y,wHAEjB,uBAAa,8CACT,wBACA,MAAKC,KAAL,CAAa,CACTC,UAAU,CAAE,EADH,CAETC,OAAO,CAAE,EAFA,CAGTC,QAAQ,CAAE,EAHD,CAITC,MAAM,CAAE,EAJC,CAKTC,aAAa,CAAE,EALN,CAMTC,YAAY,CAAE,EANL,CAOTC,SAAS,CAAE,EAPF,CAQTC,SAAS,CAAE,KARF,CASTC,iBAAiB,CAAE,EATV,CAUTC,cAAc,CAAE,KAVP,CAWTC,KAAK,CAAE,EAXE,CAAb,CAFS,aAeZ,C,sFAEkB,CACf,KAAKC,WAAL,GACAC,OAAO,CAACC,GAAR,CAAY,QAAZ,EACH,C,8DAEkBC,C,CAAG,CACpB,GAAI,KAAKf,KAAL,CAAWU,cAAX,EAA6BK,CAAC,CAACC,MAAF,CAASC,EAAT,EAAe,kBAAhD,CAAoE,CAAE;AACpE,KAAKC,QAAL,CAAc,CAAER,cAAc,CAAE,KAAlB,CAAd,EACD,CACDG,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyB,KAAKd,KAAL,CAAWU,cAApC,EACD,C,gFAE2BS,a,CAAe,CACzC,KAAKD,QAAL,CAAc,SAAAE,SAAS,QAAK,CAC1BX,iBAAiB,8BAAMW,SAAS,CAACX,iBAAhB,GAAmCU,aAAnC,EADS,CAAL,EAAvB,EAGC,KAAKD,QAAL,CAAc,CAAER,cAAc,CAAE,KAAlB,CAAd,EACF,C,iDAEa,iBACZG,OAAO,CAACC,GAAR,CAAY,wBAAZ,CAAsC,KAAKO,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BE,OAA1B,CAAkCqB,IAAxE,EACE3B,KAAK,CAAC4B,GAAN,CAAU,QAAV,CACA,CAACtB,OAAO,CAAG,KAAKmB,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BE,OAA1B,CAAkCqB,IAA7C,CADA,EAEGE,IAFH,CAEQ,SAACC,GAAD,CAAS,CACb,GAAMC,CAAAA,QAAQ,CAAGD,GAAG,CAACE,IAArB,CACA,MAAI,CAACV,QAAL,CAAc,CAACP,KAAK,CAAEgB,QAAR,CAAd,EACAd,OAAO,CAACC,GAAR,CAAY,qBAAZ,EACD,CANH,EAOGe,KAPH,CAOS,SAACC,GAAD,CAAS,CACdjB,OAAO,CAACC,GAAR,CAAYgB,GAAZ,EACD,CATH,EAUD,C,uDAEe,CACd,KAAKZ,QAAL,CAAc,CAACR,cAAc,CAAE,IAAjB,CAAd,EACD,C,uDAEe,CACd,KAAKQ,QAAL,CAAc,CAACR,cAAc,CAAE,KAAjB,CAAd,EACD,C,uCAEK,CACH,GAAIqB,CAAAA,CAAC,CAAG,CAAC,CAAT,CACD,GAAMC,CAAAA,WAAW,CAAG,KAAKhC,KAAL,CAAWW,KAAX,CAAiBsB,GAAjB,CAAqB,SAASC,IAAT,CAAc,CACrDrB,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAwBoB,IAAxB,EACAH,CAAC,CAAGA,CAAC,CAAG,CAAR,CACA,mBAAO,oBAAC,SAAD,EAAW,GAAG,CAAIA,CAAlB,CAAqB,IAAI,CAAIG,IAA7B,EAAP,CACD,CAJmB,CAApB,CAKA,mBACI,2BAAK,EAAE,CAAG,iBAAV,eACI,2BAAK,EAAE,CAAG,cAAV,eACK,0BAAI,EAAE,CAAG,uBAAT,EACE,KAAKb,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BE,OAA1B,CAAkCiC,OADpC,CADL,cAII,0BAAI,EAAE,CAAG,oBAAT,EACK,KAAKd,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BE,OAA1B,CAAkCqB,IADvC,CAJJ,cAOI,0BAAI,EAAE,CAAG,wBAAT,EACG,KAAKF,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BE,OAA1B,CAAkCkC,SADrC,CAPJ,cAUI,2BAAK,EAAE,CAAG,mBAAV,CAA8B,OAAO,CAAI,KAAK1B,cAAL,CAAoB2B,IAApB,CAAyB,IAAzB,CAAzC,eACA,oCADA,CAVJ,CADJ,cAkBI,2BAAK,EAAE,CAAG,YAAV,EACKL,WADL,CAlBJ,CAqBK,KAAKhC,KAAL,CAAWU,cAAX,cACP,4CACA,oBAAC,eAAD,EAAiB,OAAO,CAAI,KAAK4B,kBAAL,CAAwBD,IAAxB,CAA6B,IAA7B,CAA5B,CAAgE,OAAO,CAAI,KAAKhB,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BE,OAArG,CACA,QAAQ,CAAI,KAAKmB,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BG,QADtC,CACgD,SAAS,CAAI,KAAKkB,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BK,aADvF,CACsG,QAAQ,CAAI,KAAKgB,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BM,YAD5I,CAEA,KAAK,CAAI,KAAKe,KAAL,CAAWC,QAAX,CAAoBtB,KAApB,CAA0BO,SAFnC,CAE8C,IAAI,CAAI,KAAKgC,cAAL,CAAoBF,IAApB,CAAyB,IAAzB,CAFtD,EADA,CADO,CAML,IA3BA,CADJ,CA+BH,C,0BAlGqC7C,KAAK,CAACgD,S,SAA3BzC,Y","sourcesContent":["import React from \"react\";\r\nimport ForumPost from \"./forumPost.js\"\r\nimport \"../componentStyles/collegeForum.css\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport Axios from \"axios\";\r\nimport { render } from \"@testing-library/react\";\r\nimport CreateForumPost from \"./createForumPost.js\"\r\n\r\nexport default class collegeForum extends React.Component{\r\n\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            thisUserID: \"\",\r\n            college: \"\", \r\n            username: \"\",\r\n            userId: \"\",\r\n            userFirstName: \"\",\r\n            userLastName: \"\",\r\n            userEmail: \"\",\r\n            userAdmin: false,\r\n            userCollegeGroups: [],\r\n            showCreatePost: false,\r\n            posts: []\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getPostData()\r\n        console.log(\"LOADED\")\r\n    }\r\n\r\n    collapseCreatePost(e) {\r\n      if (this.state.showCreatePost && e.target.id == \"create-post-wrap\") { //User clicked on surrounding of search to collapse\r\n        this.setState({ showCreatePost: false });\r\n      }\r\n      console.log(\"STATE IS \", this.state.showCreatePost)\r\n    }\r\n  \r\n    collapseCreatePostAndSubmit(chosenCollege) {\r\n      this.setState(prevState => ({\r\n        userCollegeGroups: [...prevState.userCollegeGroups, chosenCollege]\r\n      }))\r\n       this.setState({ showCreatePost: false,  });\r\n    }\r\n\r\n    getPostData() {\r\n      console.log(\"COLLEGE RIGHT HERE IS \", this.props.location.state.college.name)\r\n        Axios.get(\"/forum\", \r\n        {college : this.props.location.state.college.name})\r\n          .then((res) => {\r\n            const postData = res.data;\r\n            this.setState({posts: postData})\r\n            console.log(\"post data retrieved\");\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n\r\n      showCreatePost(){\r\n        this.setState({showCreatePost: true})\r\n      }\r\n\r\n      hideCreatePost(){\r\n        this.setState({showCreatePost: false})\r\n      }\r\n\r\n    render(){\r\n         var i = -1;\r\n        const renderPosts = this.state.posts.map(function(post){\r\n          console.log(\"POST IS \", post)\r\n          i = i + 1\r\n          return(<ForumPost key = {i} post = {post}/>)\r\n        })\r\n        return(\r\n            <div id = \"forum-container\">\r\n                <div id = \"forum-header\">\r\n                     <h3 id = \"forum-college-country\">\r\n                      {this.props.location.state.college.country}  \r\n                    </h3>\r\n                    <h1 id = \"forum-college-name\">\r\n                        {this.props.location.state.college.name}\r\n                    </h1>\r\n                    <h3 id = \"forum-college-webpages\">\r\n                      {this.props.location.state.college.web_pages}  \r\n                    </h3>\r\n                    <div id = \"add-post-to-forum\" onClick = {this.showCreatePost.bind(this)}>\r\n                    <h6>\r\n                    Add\r\n                    </h6>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div id = \"forum-feed\">\r\n                    {renderPosts}\r\n                </div>\r\n                {this.state.showCreatePost ? (\r\n          <div>        \r\n          <CreateForumPost dismiss = {this.collapseCreatePost.bind(this)} college = {this.props.location.state.college} \r\n          username = {this.props.location.state.username} firstName = {this.props.location.state.userFirstName} lastName = {this.props.location.state.userLastName}\r\n          email = {this.props.location.state.userEmail} hide = {this.hideCreatePost.bind(this)}/>\r\n          </div>\r\n        ) : null}\r\n            </div>\r\n        )\r\n    }\r\n   \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}